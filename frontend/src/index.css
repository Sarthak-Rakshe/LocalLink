/* Tailwind v4: single import */
@import "tailwindcss";

/* Force class-based dark mode in Tailwind v4 */
@custom-variant dark (&:where(.dark, .dark *));

/* Design tokens (minimal, clean) */
@theme {
  --font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto,
    Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol";
  /* Brand tokens */
  --color-brand-50: #eef2ff;
  --color-brand-100: #e0e7ff;
  --color-brand-200: #c7d2fe;
  --color-brand-300: #a5b4fc;
  --color-brand-400: #818cf8;
  --color-brand-500: #6366f1; /* primary */
  --color-brand-600: #4f46e5;
  --color-brand-700: #4338ca;
  --color-brand-800: #3730a3;
  --color-brand-900: #312e81;

  /* Accent tokens */
  --color-accent-50: #fdf2f8;
  --color-accent-100: #fce7f3;
  --color-accent-200: #fbcfe8;
  --color-accent-300: #f9a8d4;
  --color-accent-400: #f472b6;
  --color-accent-500: #ec4899;
  --color-accent-600: #db2777;
  --color-accent-700: #be185d;
  --color-accent-800: #9d174d;
  --color-accent-900: #831843;

  /* Radius scale */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
}

/* Base styles */
@layer base {
  html,
  body,
  #root {
    height: 100%;
  }

  body {
    /* Gentle app-wide gradient; dark toned softer to ~#1f1f1f */
    @apply bg-linear-to-b from-brand-50 to-white text-zinc-900 antialiased dark:from-[#1f1f1f] dark:to-[#1f1f1f] dark:text-zinc-100;
    font-family: var(--font-sans);
  }

  /* Headings: slightly tighter tracking and stronger weight */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-semibold tracking-tight text-zinc-900 dark:text-zinc-100;
  }

  /* Links: subtle underline on hover */
  a {
    @apply text-indigo-600 underline-offset-4 hover:underline hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300;
  }

  /* Text selection */
  ::selection {
    @apply bg-indigo-600/20 text-zinc-900 dark:bg-indigo-400/20 dark:text-zinc-100;
  }

  /* Minimal scrollbar styling (webkit-based only) */
  *::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  *::-webkit-scrollbar-thumb {
    @apply rounded-full bg-zinc-300 hover:bg-zinc-400;
  }
  *::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
}

/* Small component primitives (opt-in) */
@layer components {
  /* Helper for consistent body text color across themes */
  .text-default {
    @apply text-zinc-900 dark:text-zinc-100;
  }

  .container-page {
    @apply mx-auto w-full max-w-7xl px-4 md:px-6;
  }

  .card {
    @apply rounded-xl border border-zinc-200 bg-white shadow-sm dark:border-zinc-800 dark:bg-zinc-900;
  }

  .card-header {
    @apply flex items-center justify-between border-b px-4 py-3;
  }

  .card-body {
    @apply p-4;
  }

  .input-base {
    @apply w-full rounded-md border border-zinc-300 px-3 py-2 text-sm shadow-sm placeholder:text-zinc-400 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/50 dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-100 dark:placeholder:text-zinc-500;
  }

  .btn {
    @apply inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-600 disabled:pointer-events-none disabled:opacity-50;
  }
  .btn-primary {
    @apply bg-linear-to-r from-indigo-600 to-violet-600 text-white hover:brightness-95;
  }
  .btn-outline {
    @apply border border-zinc-300 bg-white hover:bg-zinc-50 dark:border-zinc-700 dark:bg-transparent dark:hover:bg-white/5;
  }
  .btn-ghost {
    @apply hover:bg-zinc-100 dark:hover:bg-white/5;
  }

  /* Optional app background utility for hero/login sections */
  .app-bg {
    background-image: radial-gradient(
        1200px 600px at 100% -10%,
        color-mix(in oklab, var(--color-brand-200) 55%, transparent),
        transparent 60%
      ),
      radial-gradient(
        1000px 500px at -10% 0%,
        color-mix(in oklab, var(--color-accent-200) 45%, transparent),
        transparent 60%
      );
  }

  /* In dark mode, use a very subtle, low-contrast decorative background */
  .app-bg:where(.dark, .dark *) {
    background-image: radial-gradient(
        1100px 550px at 110% -10%,
        color-mix(in oklab, var(--color-brand-300) 14%, transparent),
        transparent 60%
      ),
      radial-gradient(
        900px 450px at -10% 0%,
        color-mix(in oklab, var(--color-accent-300) 12%, transparent),
        transparent 60%
      );
  }

  /* PayPal buttons wrapper: make the rendered iframe/buttons full-width and consistent height */
  .paypal-wrapper {
    @apply w-full max-w-md;
  }
  .paypal-wrapper > * {
    width: 100% !important;
  }
  .paypal-wrapper iframe {
    width: 100% !important;
    min-height: 48px;
  }
  /* Dark theme: remove white gap between stacked PayPal iframes by darkening container */
  .dark .paypal-wrapper .paypal-buttons {
    background-color: #18181b !important; /* matches dark surface */
  }
  .dark .paypal-wrapper .paypal-buttons > * {
    background-color: #18181b !important;
  }
}

/* Improve native form-control theming in dark mode (select menus, date/time pickers) */
@layer base {
  .dark {
    color-scheme: dark;
  }
  /* Ensure selects and inputs inherit dark colors even if user agent styles leak */
  .dark select,
  .dark input,
  .dark textarea {
    @apply bg-zinc-900 text-zinc-100 border-zinc-700 placeholder:text-zinc-500;
  }
}
